# Nixpacks configuration for Railway
# Ensures both Python and Node.js are available for fullstack build

[phases.setup]
nixPkgs = ["python311", "nodejs_20", "npm-9_x"]

[phases.install]
cmds = ["chmod +x build.sh && ./build.sh"]

[phases.build]
cmds = ["echo 'Build completed in install phase'"]

[start]
cmd = "uvicorn src.api.app:app --host 0.0.0.0 --port $PORT"
